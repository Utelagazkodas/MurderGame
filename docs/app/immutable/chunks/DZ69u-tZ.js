import{S as N,v as J,w as Q,x as R,y as W,z as y,A as D,U as o,g as h,B as F,C as X,m as k,D as p,E as ee,l as C,F as re,G as ae,H as ne,I as te,J as ie,K as q,M,N as U,O as G,P as fe,Q as se,R as V,T as H,V as ue,W as le,X as _e,Y as ve,b as K,Z as de,_ as ce,$ as oe,a0 as be,a1 as ge,a2 as Z,a3 as ye,a4 as he,a5 as Pe,a6 as Re,f as $,a7 as Ee}from"./CR9AOu9j.js";function S(r,s=null,d){if(typeof r!="object"||r===null||N in r)return r;const u=k(r);if(u!==J&&u!==Q)return r;var i=new Map,_=p(r),b=R(0);_&&i.set("length",R(r.length));var P;return new Proxy(r,{defineProperty(f,e,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&W();var t=i.get(e);return t===void 0?(t=R(a.value),i.set(e,t)):y(t,S(a.value,P)),!0},deleteProperty(f,e){var a=i.get(e);if(a===void 0)e in f&&i.set(e,R(o));else{if(_&&typeof e=="string"){var t=i.get("length"),n=Number(e);Number.isInteger(n)&&n<t.v&&y(t,n)}y(a,o),j(b)}return!0},get(f,e,a){var c;if(e===N)return r;var t=i.get(e),n=e in f;if(t===void 0&&(!n||(c=D(f,e))!=null&&c.writable)&&(t=R(S(n?f[e]:o,P)),i.set(e,t)),t!==void 0){var l=h(t);return l===o?void 0:l}return Reflect.get(f,e,a)},getOwnPropertyDescriptor(f,e){var a=Reflect.getOwnPropertyDescriptor(f,e);if(a&&"value"in a){var t=i.get(e);t&&(a.value=h(t))}else if(a===void 0){var n=i.get(e),l=n==null?void 0:n.v;if(n!==void 0&&l!==o)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return a},has(f,e){var l;if(e===N)return!0;var a=i.get(e),t=a!==void 0&&a.v!==o||Reflect.has(f,e);if(a!==void 0||F!==null&&(!t||(l=D(f,e))!=null&&l.writable)){a===void 0&&(a=R(t?S(f[e],P):o),i.set(e,a));var n=h(a);if(n===o)return!1}return t},set(f,e,a,t){var w;var n=i.get(e),l=e in f;if(_&&e==="length")for(var c=a;c<n.v;c+=1){var E=i.get(c+"");E!==void 0?y(E,o):c in f&&(E=R(o),i.set(c+"",E))}n===void 0?(!l||(w=D(f,e))!=null&&w.writable)&&(n=R(void 0),y(n,S(a,P)),i.set(e,n)):(l=n.v!==o,y(n,S(a,P)));var g=Reflect.getOwnPropertyDescriptor(f,e);if(g!=null&&g.set&&g.set.call(t,a),!l){if(_&&typeof e=="string"){var m=i.get("length"),O=Number(e);Number.isInteger(O)&&O>=m.v&&y(m,O+1)}j(b)}return!0},ownKeys(f){h(b);var e=Reflect.ownKeys(f).filter(n=>{var l=i.get(n);return l===void 0||l.v!==o});for(var[a,t]of i)t.v!==o&&!(a in f)&&e.push(a);return e},setPrototypeOf(){X()}})}function j(r,s=1){y(r,r.v+s)}function Se(r,s,d=!1){C&&re();var u=r,i=null,_=null,b=o,P=d?ae:0,f=!1;const e=(t,n=!0)=>{f=!0,a(n,t)},a=(t,n)=>{if(b===(b=t))return;let l=!1;if(C){const c=u.data===ne;!!b===c&&(u=te(),ie(u),q(!1),l=!0)}b?(i?M(i):n&&(i=U(()=>n(u))),_&&G(_,()=>{_=null})):(_?M(_):n&&(_=U(()=>n(u))),i&&G(i,()=>{i=null})),l&&q(!0)};ee(()=>{f=!1,s(e),f||a(null,null)},P),C&&(u=fe)}let A=!1;function me(r,s,d){const u=d[s]??(d[s]={store:null,source:V(void 0),unsubscribe:H});if(u.store!==r)if(u.unsubscribe(),u.store=r??null,r==null)u.source.v=void 0,u.unsubscribe=H;else{var i=!0;u.unsubscribe=ue(r,_=>{i?u.source.v=_:y(u.source,_)}),i=!1}return h(u.source)}function Oe(){const r={};return se(()=>{for(var s in r)r[s].unsubscribe()}),r}function we(r){var s=A;try{return A=!1,[r(),A]}finally{A=s}}function z(r){for(var s=F,d=F;s!==null&&!(s.f&(be|ge));)s=s.parent;try{return Z(s),r()}finally{Z(d)}}function Te(r,s,d,u){var Y;var i=(d&ye)!==0,_=!_e||(d&ve)!==0,b=(d&he)!==0,P=(d&Pe)!==0,f=!1,e;b?[e,f]=we(()=>r[s]):e=r[s];var a=N in r||Re in r,t=((Y=D(r,s))==null?void 0:Y.set)??(a&&b&&s in r?v=>r[s]=v:void 0),n=u,l=!0,c=!1,E=()=>(c=!0,l&&(l=!1,P?n=K(u):n=u),n);e===void 0&&u!==void 0&&(t&&_&&le(),e=E(),t&&t(e));var g;if(_)g=()=>{var v=r[s];return v===void 0?E():(l=!0,c=!1,v)};else{var m=z(()=>(i?$:Ee)(()=>r[s]));m.f|=de,g=()=>{var v=h(m);return v!==void 0&&(n=void 0),v===void 0?n:v}}if(!(d&ce))return g;if(t){var O=r.$$legacy;return function(v,I){return arguments.length>0?((!_||!I||O||f)&&t(I?g():v),v):g()}}var w=!1,B=!1,x=V(e),T=z(()=>$(()=>{var v=g(),I=h(x);return w?(w=!1,B=!0,I):(B=!1,x.v=v)}));return i||(T.equals=oe),function(v,I){if(arguments.length>0){const L=I?h(T):_&&b?S(v):v;return T.equals(L)||(w=!0,y(x,L),c&&n!==void 0&&(n=L),K(()=>h(T))),v}return h(T)}}export{me as a,S as b,Se as i,Te as p,Oe as s};

import{S as T,o as L,j as q,k as y,m as B,q as v,r as E,U as d,t as w,v as C,w as H,x as K,y as M,b as U,h as I,z as Y,E as z,H as G,A as Z,B as J,C as O,D as S,d as j,F as k,f as Q,n as P,a as V,G as W,I as X}from"./runtime.BGk-bNsm.js";function h(n,l=null,b){if(typeof n!="object"||n===null||T in n)return n;const a=K(n);if(a!==L&&a!==q)return n;var s=new Map,c=M(n),_=y(0);c&&s.set("length",y(n.length));var g;return new Proxy(n,{defineProperty(f,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&B();var i=s.get(e);return i===void 0?(i=y(t.value),s.set(e,i)):v(i,h(t.value,g)),!0},deleteProperty(f,e){var t=s.get(e);if(t===void 0)e in f&&s.set(e,y(d));else{if(c&&typeof e=="string"){var i=s.get("length"),r=Number(e);Number.isInteger(r)&&r<i.v&&v(i,r)}v(t,d),F(_)}return!0},get(f,e,t){var o;if(e===T)return n;var i=s.get(e),r=e in f;if(i===void 0&&(!r||(o=E(f,e))!=null&&o.writable)&&(i=y(h(r?f[e]:d,g)),s.set(e,i)),i!==void 0){var u=w(i);return u===d?void 0:u}return Reflect.get(f,e,t)},getOwnPropertyDescriptor(f,e){var t=Reflect.getOwnPropertyDescriptor(f,e);if(t&&"value"in t){var i=s.get(e);i&&(t.value=w(i))}else if(t===void 0){var r=s.get(e),u=r==null?void 0:r.v;if(r!==void 0&&u!==d)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(f,e){var u;if(e===T)return!0;var t=s.get(e),i=t!==void 0&&t.v!==d||Reflect.has(f,e);if(t!==void 0||C!==null&&(!i||(u=E(f,e))!=null&&u.writable)){t===void 0&&(t=y(i?h(f[e],g):d),s.set(e,t));var r=w(t);if(r===d)return!1}return i},set(f,e,t,i){var D;var r=s.get(e),u=e in f;if(c&&e==="length")for(var o=t;o<r.v;o+=1){var m=s.get(o+"");m!==void 0?v(m,d):o in f&&(m=y(d),s.set(o+"",m))}r===void 0?(!u||(D=E(f,e))!=null&&D.writable)&&(r=y(void 0),v(r,h(t,g)),s.set(e,r)):(u=r.v!==d,v(r,h(t,g)));var x=Reflect.getOwnPropertyDescriptor(f,e);if(x!=null&&x.set&&x.set.call(i,t),!u){if(c&&typeof e=="string"){var A=s.get("length"),R=Number(e);Number.isInteger(R)&&R>=A.v&&v(A,R+1)}F(_)}return!0},ownKeys(f){w(_);var e=Reflect.ownKeys(f).filter(r=>{var u=s.get(r);return u===void 0||u.v!==d});for(var[t,i]of s)i.v!==d&&!(t in f)&&e.push(t);return e},setPrototypeOf(){H()}})}function F(n,l=1){v(n,n.v+l)}function ee(n,l,b=!1){I&&Y();var a=n,s=null,c=null,_=d,g=b?z:0,f=!1;const e=(i,r=!0)=>{f=!0,t(r,i)},t=(i,r)=>{if(_===(_=i))return;let u=!1;if(I){const o=a.data===G;!!_===o&&(a=Z(),J(a),O(!1),u=!0)}_?(s?S(s):r&&(s=j(()=>r(a))),c&&k(c,()=>{c=null})):(c?S(c):r&&(c=j(()=>r(a))),s&&k(s,()=>{s=null})),u&&O(!0)};U(()=>{f=!1,l(e),f||t(null,null)},g),I&&(a=Q)}function $(n,l,b){if(n==null)return l(void 0),P;const a=V(()=>n.subscribe(l,b));return a.unsubscribe?()=>a.unsubscribe():a}let N=!1;function te(n,l,b){const a=b[l]??(b[l]={store:null,source:X(void 0),unsubscribe:P});if(a.store!==n)if(a.unsubscribe(),a.store=n??null,n==null)a.source.v=void 0,a.unsubscribe=P;else{var s=!0;a.unsubscribe=$(n,c=>{s?a.source.v=c:v(a.source,c)}),s=!1}return w(a.source)}function ne(){const n={};return W(()=>{for(var l in n)n[l].unsubscribe()}),n}function re(n,l,b){return n.set(b),l}function se(n){var l=N;try{return N=!1,[n(),N]}finally{N=l}}export{re as a,te as b,se as c,ee as i,h as p,ne as s};

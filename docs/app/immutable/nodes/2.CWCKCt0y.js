import{b as y,t as M,c as ae}from"../chunks/disclose-version.CbOf8pIM.js";import{o as D,Z as re,a9 as xe,aa as ke,W as ye,w as we,V as Ee,ab as pe,X as Ie,Y as ie,_ as te,A as Z,ac as Te,ad as U,$ as me,x as be,a0 as Ae,k as oe,ae as ze,af as Se,ag as Ce,ah as Me,z as Ne,ai as Ve,m as je,O as ve,aj as Be,ak as He,al as Re,am as De,an as Ye,u as $e,ao as Oe,a2 as Ge,a5 as Ke,a6 as C,b as F,a7 as w,ap as de,a8 as m,a3 as L,a4 as P,aq as ue,a as E}from"../chunks/runtime.CQ7jliQh.js";import{l as Le,d as Pe,e as Xe,s as X}from"../chunks/render.CVnjh2Eg.js";import{i as H,p as qe}from"../chunks/if.BvZLOwVS.js";import{r as We,s as Ze}from"../chunks/attributes.C-Kc_LEb.js";import{s as Fe,a as fe}from"../chunks/store.cjwSX_wZ.js";import{l as Je,g as Qe,k as Ue,s as ea}from"../chunks/api.BCZDyAwD.js";import{w as aa}from"../chunks/index.B0ZoSdI1.js";function ce(a,e){return e}function ra(a,e,r,n){for(var o=[],s=e.length,d=0;d<s;d++)Se(e[d].e,o,!0);var b=s>0&&o.length===0&&r!==null;if(b){var g=r.parentNode;Ce(g),g.append(r),n.clear(),Y(a,e[0].prev,e[s-1].next)}Me(o,()=>{for(var c=0;c<s;c++){var T=e[c];b||(n.delete(T.k),Y(a,T.prev,T.next)),Ne(T.e,!b)}})}function _e(a,e,r,n,o,s=null){var d=a,b={flags:e,items:new Map,first:null};{var g=a;d=D?re(xe(g)):g.appendChild(ke())}D&&ye();var c=null,T=!1;we(()=>{var l=r(),h=Ee(l)?l:l==null?[]:pe(l),i=h.length;if(T&&i===0)return;T=i===0;let v=!1;if(D){var u=d.data===Ie;u!==(i===0)&&(d=ie(),re(d),te(!1),v=!0)}if(D){for(var p=null,_,t=0;t<i;t++){if(Z.nodeType===8&&Z.data===Te){d=Z,v=!0,te(!1);break}var x=h[t],N=n(x,t);_=he(Z,b,p,null,x,N,t,o,e),b.items.set(N,_),p=_}i>0&&re(ie())}if(!D){var V=Ve;ta(h,b,d,o,e,(V.f&U)!==0,n)}s!==null&&(i===0?c?me(c):c=be(()=>s(d)):c!==null&&Ae(c,()=>{c=null})),v&&te(!0),r()}),D&&(d=Z)}function ta(a,e,r,n,o,s,d,b){var g=a.length,c=e.items,T=e.first,l=T,h,i=null,v=[],u=[],p,_,t,x;for(x=0;x<g;x+=1){if(p=a[x],_=d(p,x),t=c.get(_),t===void 0){var N=l?l.e.nodes_start:r;i=he(N,e,i,i===null?e.first:i.next,p,_,x,n,o),c.set(_,i),v=[],u=[],l=i.next;continue}if(la(t,p,x),t.e.f&U&&me(t.e),t!==l){if(h!==void 0&&h.has(t)){if(v.length<u.length){var V=u[0],A;i=V.prev;var $=v[0],O=v[v.length-1];for(A=0;A<v.length;A+=1)ge(v[A],V,r);for(A=0;A<u.length;A+=1)h.delete(u[A]);Y(e,$.prev,O.next),Y(e,i,$),Y(e,O,V),l=V,i=O,x-=1,v=[],u=[]}else h.delete(t),ge(t,l,r),Y(e,t.prev,t.next),Y(e,t,i===null?e.first:i.next),Y(e,i,t),i=t;continue}for(v=[],u=[];l!==null&&l.k!==_;)(s||!(l.e.f&U))&&(h??(h=new Set)).add(l),u.push(l),l=l.next;if(l===null)continue;t=l}v.push(t),i=t,l=t.next}if(l!==null||h!==void 0){for(var k=h===void 0?[]:pe(h);l!==null;)(s||!(l.e.f&U))&&k.push(l),l=l.next;var S=k.length;if(S>0){var I=g===0?r:null;ra(e,k,I,c)}}oe.first=e.first&&e.first.e,oe.last=i&&i.e}function la(a,e,r,n){ze(a.v,e),a.i=r}function he(a,e,r,n,o,s,d,b,g,c){var T=(g&He)!==0,l=(g&Re)===0,h=T?l?je(o):ve(o):o,i=g&Be?ve(d):d,v={i,v:h,k:s,a:null,e:null,prev:r,next:n};try{return v.e=be(()=>b(a,h,i),D),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?e.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function ge(a,e,r){for(var n=a.next?a.next.e.nodes_start:r,o=e?e.e.nodes_start:r,s=a.e.nodes_start;s!==n;){var d=De(s);o.before(s),s=d}}function Y(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function na(a,e,r=e){var n=Ye();Le(a,"input",o=>{var s=o?a.defaultValue:a.value;if(s=le(a)?ne(s):s,r(s),n&&s!==(s=e())){var d=a.selectionStart,b=a.selectionEnd;a.value=s??"",b!==null&&(a.selectionStart=d,a.selectionEnd=Math.min(b,a.value.length))}}),(D&&a.defaultValue!==a.value||$e(e)==null&&a.value)&&r(le(a)?ne(a.value):a.value),Oe(()=>{var o=e();le(a)&&o===ne(a.value)||a.type==="date"&&!o&&!a.value||o!==a.value&&(a.value=o??"")})}function le(a){var e=a.type;return e==="number"||e==="range"}function ne(a){return a===""?null:+a}var sa=M('<form class="text-gray-700"><input type="text" placeholder="írd ide a kódot" class="rounded-xl"> <button type="submit">Belépés</button></form>'),ia=a=>{Je()},oa=M('viszont <span class="font-bold text-red-700">halott vagy</span> :(',1),va=M('<span class="text-green-300">Nem te vagy a gyilkos</span> <!>',1),da=(a,e)=>{E(e)&&(Ue(E(e),a),F(e,void 0))},ua=(a,e)=>{F(e,void 0)},fa=M(`<span class="text-red-400">TE VAGY A GYILKOS</span> screenshotold le
        -> <button class="text-blue-300">kép</button> <br> ezzel tudsz majd ölni, és egy pár órával utána itt öld meg a piros X-el amikor
        bejelenti <dialog class="overflow-hidden top-0 h-screen w-screen bg-gray-900/65 backdrop-blur text-right"><div class="relative h-screen w-auto mx-auto flex justify-center"><img src="/stone.jpeg" class="z-10 h-screen w-auto object-contain p-2 rounded-2xl" alt="stone"> <button aria-label="close" class="absolute top-2 right-2 z-20 p-0.5 rounded"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x text-gray-200"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button></div></dialog> <dialog class="top-0 bg-transparent"><div class="w-screen top-0 h-screen backdrop-blur bg-gray-900/65 flex items-center justify-center"><div class="text-gray-200 bg-gray-700 p-3 rounded-lg border-2 border-gray-200">Biztos meg akarod ölni? <br> <div class="*:rounded *:border-2 *:p-1"><button class="bg-red-500">IGEN</button> <button class="bg-green-500"> </button></div></div></div></dialog>`,1),ca=(a,e,r)=>{E(e)==null&&F(e,qe(E(r)))},_a=M('<button aria-label="kill" class=" flex items-center mx-5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x text-red-500 rounded-full border-2 border-red-500"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button>'),ga=M('<div class="bg-green-500 flex justify-center"><span class="mr-2"> </span> <!></div>'),pa=M('<div class="bg-red-500"> </div>'),ma=M('<div class="flex flex-col items-center text-lg *:w-full *:m-2 text-center *:rounded-full *:border-2 *:p-0.5"></div>'),ba=M('<div class="w-full flex justify-between text-lg text-white"> <button class="p-2 border border-gray-800 bg-gray-700 rounded-full" aria-label="logout"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg></button></div> <br> <!> <!>',1),ha=M('<div class="bg-green-500 flex justify-center"><span class="mr-2"> </span></div>'),xa=M('<div class="bg-red-500"> </div>'),ka=M('<div class="flex flex-col items-center text-lg *:w-full *:m-2 text-center *:rounded-full *:border-2 *:p-0.5"></div>'),ya=M('<div class="max-w-screen   p-5 lg:px-96 lg:py-10"><!> <!></div>');function Ma(a,e){Ge(e,!0);const r=Fe(),n=()=>fe(Qe,"$gameState",r),o=()=>fe(b,"$killerPopup",r);let s=ue("");function d(){F(s,"")}let b=aa(!1),g=ue(void 0);var c=ya(),T=w(c);{var l=u=>{var p=sa(),_=w(p);We(_),Ze(_,"maxlength",16),de(2),m(p),Xe("submit",p,async t=>{await ea(E(s),t)}),na(_,()=>E(s),t=>F(s,t)),y(u,p)};H(T,u=>{n().player||u(l)})}var h=C(T,2);{var i=u=>{var p=ba(),_=L(p),t=w(_),x=C(t);x.__click=[ia],m(_);var N=C(_,4);{var V=k=>{var S=va(),I=C(L(S),2);{var f=z=>{var G=oa();de(2),y(z,G)};H(I,z=>{n().player.revealDeath&&z(f)})}y(k,S)},A=k=>{var S=fa(),I=C(L(S),2);I.__click=()=>{b.set(!o())};var f=C(I,4),z=w(f),G=C(w(z),2);G.__click=()=>{b.set(!o())},m(z),m(f);var q=C(f,2),J=w(q),B=w(J),j=C(w(B),2);j.nodeValue=` Szerintem akit meg akar ölni a neve nagyon szomorú
              lenne `;var R=C(j),Q=w(R);Q.__click=[da,g];var W=C(Q,2);W.__click=[ua,g];var ee=w(W);m(W),m(R),m(B),m(J),m(q),P(()=>{var K;f.open=o(),q.open=E(g)!=null&&o()==!1,X(ee,`Nem, mert egy jó ember vagyok és meg akarom kímélni ${((K=E(g))==null?void 0:K.name)??""}
                  életét`)}),y(k,S)};H(N,k=>{n().player.isKiller?k(A,!1):k(V)})}var $=C(N,2);{var O=k=>{var S=ma();_e(S,5,()=>n().players,ce,(I,f)=>{var z=ae(),G=L(z);{var q=B=>{var j=ga(),R=w(j),Q=w(R);m(R);var W=C(R,2);{var ee=K=>{var se=_a();se.__click=[ca,g,f],y(K,se)};H(W,K=>{n().player.isKiller&&K(ee)})}m(j),P(()=>X(Q,`${E(f).name??""} (alias ${E(f).nickname??""})`)),y(B,j)},J=B=>{var j=pa(),R=w(j);m(j),P(()=>X(R,`${E(f).name??""} (alias ${E(f).nickname??""})`)),y(B,j)};H(G,B=>{E(f).alive?B(q):B(J,!1)})}y(I,z)}),m(S),y(k,S)};H($,k=>{n().players&&k(O)})}P(()=>X(t,`Szia ${n().player.name??""} `)),y(u,p)},v=u=>{var p=ae(),_=L(p);{var t=x=>{var N=ka();_e(N,5,()=>n().players,ce,(V,A)=>{var $=ae(),O=L($);{var k=I=>{var f=ha(),z=w(f),G=w(z,!0);m(z),m(f),P(()=>X(G,E(A).nickname)),y(I,f)},S=I=>{var f=xa(),z=w(f,!0);m(f),P(()=>X(z,E(A).nickname)),y(I,f)};H(O,I=>{E(A).alive?I(k):I(S,!1)})}y(V,$)}),m(N),y(x,N)};H(_,x=>{n().players&&x(t)},!0)}y(u,p)};H(h,u=>{n().player?u(i):u(v,!1)})}return m(c),y(a,c),Ke({resetIdTextInput:d})}Pe(["click"]);export{Ma as component};
